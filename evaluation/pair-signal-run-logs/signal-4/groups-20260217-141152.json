[
  {
    "tool_id": "ruff-format",
    "signal_type": "format",
    "signals": [
      {
        "signal_type": "format",
        "severity": "low",
        "file_path": "ria/utils/helpers.py",
        "span": {
          "start": {
            "row": 23,
            "column": 1
          },
          "end": {
            "row": 44,
            "column": 1
          }
        },
        "rule_code": "FORMAT",
        "message": "1 formatting region(s) to update (43 lines affected)",
        "docs_url": "https://docs.astral.sh/ruff/formatter/",
        "fix": {
          "applicability": "safe",
          "message": "Apply 1 formatting change(s)",
          "edits": [
            {
              "span": {
                "start": {
                  "row": 23,
                  "column": 1
                },
                "end": {
                  "row": 44,
                  "column": 1
                }
              },
              "content": "    # Django uses request.META for headers (prefixed with HTTP_)\n    # FastAPI uses request.headers\n    search_context_header = None\n\n    # Try Django-style header access\n    if hasattr(request, \"META\"):\n        search_context_header = request.META.get(\"HTTP_X_SEARCH_CONTEXT\")\n    # Try FastAPI-style header access (for backward compatibility)\n    elif hasattr(request, \"headers\"):\n        search_context_header = request.headers.get(\"X-Search-Context\")\n\n    if not search_context_header:\n        return None\n\n    try:\n        return json.loads(search_context_header)\n    except json.JSONDecodeError:\n        from common.utils.logging_config import get_logger\n\n        logger = get_logger(__name__)\n        logger.warning(f\"Invalid search context header: {search_context_header}\")\n        return None\n"
            }
          ]
        }
      }
    ]
  }
]