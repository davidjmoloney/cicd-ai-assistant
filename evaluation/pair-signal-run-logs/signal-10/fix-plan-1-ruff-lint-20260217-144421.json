{
  "group_tool_id": "ruff",
  "group_signal_type": "lint",
  "file_edits": [
    {
      "file_path": "ria/services/company_service.py",
      "reasoning": "Added \"from e\" to all raise statements in except clauses to properly chain exceptions and distinguish them from errors in exception handling, as required by B904",
      "confidence": 0.9,
      "signal_errors": [
        {
          "file_path": "ria/services/company_service.py",
          "line": 97,
          "column": 13,
          "message": "Within an `except` clause, raise exceptions with `raise ... from err` or `raise ... from None` to distinguish them from errors in exception handling",
          "rule_code": "B904"
        }
      ],
      "edits": [
        {
          "edit_type": "replace",
          "span": {
            "start": {
              "row": 90,
              "column": 1
            },
            "end": {
              "row": 104,
              "column": 99999
            }
          },
          "content": "    try:\n        # Download trend data from S3\n        response = s3_client.get_object(Bucket=bucket, Key=s3_path)\n        content = response['Body'].read().decode('utf-8')\n        return json.loads(content)\n    except ClientError as e:\n        if e.response['Error']['Code'] == 'NoSuchKey':\n            raise ValueError(f\"Trend data not found for CRD {crd}\") from e\n        else:\n            raise RuntimeError(f\"Failed to load trend data: {str(e)}\") from e\n    except json.JSONDecodeError as e:\n        raise ValueError(f\"Invalid trend data format: {str(e)}\") from e\n\n\ndef pdf_records_for_crd(crd: int) -> List[Dict[str, Any]]:\n",
          "description": "Added \"from e\" to all raise statements in except clauses to properly chain exceptions and distinguish them from errors in exception handling, as required by B904"
        }
      ]
    }
  ],
  "summary": "Fixed 1 file(s) for ruff signals",
  "warnings": [],
  "confidence": 0.9
}